# Derived from .env.example; fill with real staging/production secrets
# --- Core ---
NODE_ENV=production
PORT=3000
REDIS_URL=redis://localhost:6379
POSTGRES_URL=postgres://postgres:postgres@localhost:5432/soulsync

# --- Admin / Security ---
ADMIN_TOKEN=changeme
# Multiple tokens: "name:token" pairs, comma-separated
ADMIN_TOKENS=alice:AAA,bob:BBB
ADMIN_USER=
ADMIN_PASS=
ADMIN_PURGE_ENABLED=true

# --- Metrics / Logs ---
METRICS_TOKEN=
LOG_DIR=./logs
LOG_TTL_DAYS=30

# --- Observability ---
SENTRY_DSN=

# --- App specifics ---
# Add other app-specific variables here...
# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
# --- Backend ---
NODE_ENV=production
PORT=3000
REDIS_URL=redis://redis:6379
POSTGRES_URL=postgres://soulsync:soulsync@db:5432/soulsync
ADMIN_TOKENS=ops:REDACTED
ADMIN_UI_ENABLED=false
METRICS_TOKEN=REDACTED
RUN_MIGRATIONS=true

# --- Observability ---
API_RATE_LIMIT=100

# --- Grafana ---
GRAFANA_USER=admin
GRAFANA_PASS=admin

# --- Alertmanager Slack ---
SLACK_WEBHOOK_URL=

# --- CORS ---
CORS_ALLOWED_ORIGINS=

# --- Rate Limit ---
RL_WINDOW_MS=60000
RL_MAX=300

# --- Auth ---
JWT_SECRET=change-me-please-32chars-min
REFRESH_SECRET=change-me-please-32chars-min

# --- Feature Flags ---
FEATURE_TWOFA_ENABLED=false

# Admin UI basic auth (optional)
ADMIN_UI_USER=
ADMIN_UI_PASS=

# Seed admin
SEED_ADMIN_EMAIL=admin@example.com
SEED_ADMIN_PASS=admin123

# Password hashing cost factor
BCRYPT_ROUNDS=12

# Account lockout policy
LOGIN_MAX_FAILS=5
LOGIN_BLOCK_MINUTES=15
LOGIN_WINDOW_MINUTES=15

# Per-account login rate limit
RL_LOGIN_MAX=10
RL_LOGIN_WINDOW_SEC=60

# API key rate limit
RL_APIKEY_MAX=120
RL_APIKEY_WINDOW_SEC=60

# Max JSON body size
MAX_JSON_SIZE=1mb

# Log requests slower than this (ms)
SLOW_REQUEST_MS=1000

# Prometheus HTTP histogram buckets (seconds, comma-separated)
METRICS_HTTP_BUCKETS=0.01,0.02,0.05,0.1,0.2,0.5,1,2,5,10

# Sentry release tag (e.g. git SHA or version)
SENTRY_RELEASE=

# Per-user rate limit (requires JWT and Redis)
USER_RL_MAX=120
USER_RL_WINDOW_SEC=60
