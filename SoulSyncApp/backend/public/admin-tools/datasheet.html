<!doctype html><html><head>
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'"><meta charset="utf-8"><title>SoulSync â€” Data Sheet Maker</title>
<style>body{font-family:sans-serif;padding:20px;max-width:900px;margin:0 auto} textarea{width:100%;height:200px}</style>
</head><body>
<h2>Data Sheet Maker</h2>
<p>Unesi JSON <code>rows</code> (array of objects). Opcionalno Title i Columns.</p>
<textarea id="rows">[{"name":"Alice","score":91},{"name":"Bob","score":86}]</textarea>
<div>Title: <input id="title" value="My Data Sheet"> Columns (comma): <input id="cols" value=""></div>
<button id="send">Generate PDF</button>
<pre id="out"></pre>
<script>
document.getElementById('send').onclick = async function(){
  const rows = JSON.parse(document.getElementById('rows').value || '[]')
  const title = document.getElementById('title').value || undefined
  const columns = (document.getElementById('cols').value||'').split(',').map(s=>s.trim()).filter(Boolean)
  const body = { rows, title, columns: columns.length? columns: undefined }
  const res = await fetch('/api/admin/datasheet/pdf', { method:'POST', headers:{'content-type':'application/json'}, body: JSON.stringify(body)})
  const json = await res.json()
  document.getElementById('out').textContent = JSON.stringify(json,null,2)
}
</script>
</body></html>
